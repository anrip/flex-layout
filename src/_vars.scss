$flex-media: (
    xs: (min: null, max: 599px),
    sm: (min: 600px, max: 959px),
    md: (min: 960px, max: 1279px),
    lg: (min: 1280px, max: 1919px),
    xl: (min: 1920px, max: null)
);

@mixin flex-items($media) {

    @if $media {
        $media: #{$media}-;
    }

    .flex-#{$media}auto { flex:auto;  }
    .flex-#{$media}show { display: flex; }
    .flex-#{$media}hide { display: none; }

    @for $i from 12 through 1 {
        .flex-#{$media}#{$i} { flex: 0 0 percentage($i/12); }
    }

}

@mixin flex-media-query {

    @include flex-items(null);

    @each $media, $range in $flex-media {

        $max: map-get($range, max);
        $min: map-get($range, min);

        @if $max == null {
            @media (min-width: #{$min}) {
                @include flex-items($media);
            }
        }

        @else if $min == null {
            @media (max-width: #{$max}) {
                @include flex-items($media);
            }
        }

        @else {
            @media (min-width: #{$min}) and (max-width: #{$max}) {
                @include flex-items($media);
            }
        }

    }

}
